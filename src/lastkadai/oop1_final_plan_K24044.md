# 最終課題設計資料
## アプリケーションの目的

- リアルタイムでシステムリソースの使用状況を監視し、視覚的に表示することで、システム管理者や開発者がシステムの状態を把握できるようにする。
- 問題を早期発見・対処するためのツールとして開発する。
- JFreeChartライブラリを活用したリアルタイムグラフ表示により、データの時系列推移を視覚的に分析可能。
- プログレスバーと数値表示、グラフ表示の組み合わせで直感的なシステム状態把握を実現。

## 機能一覧

### 1. システムリソース監視機能 
- **CPU使用率監視**: JMXを使用してリアルタイムでCPU使用率を取得・表示
- **メモリ使用量監視**: 物理メモリの使用状況を監視（使用中・空き・総容量・使用率）
- **ディスク使用量監視**: システムドライブの使用状況を監視（使用量・空き容量・使用率）
- **監視間隔**: 1秒間隔での自動更新

### 2. リアルタイム表示機能 
- **プログレスバー表示**: CPU・メモリ・ディスク使用率を色分けプログレスバーで表示
  - 緑: 70%未満（正常）
  - オレンジ: 70-90%（警告）
  - 赤: 90%以上（危険）
- **数値表示**: 使用率・使用量・総容量の詳細数値をラベルで表示
- **リアルタイムグラフ**: JFreeChartを使用した時系列グラフ
  - CPUグラフタブ（青線）
  - メモリグラフタブ（緑線）
  - ディスクグラフタブ（オレンジ線）
  - 5分間の時間範囲で自動スクロール
  - 300データポイント（5分間）の履歴保持

### 3. アラート機能 
- **自動閾値判定**: デフォルト設定による警告・危険レベルの判定
  - CPU: 警告70%, 危険90%
  - メモリ: 警告80%, 危険95%
  - ディスク: 警告80%, 危険95%
- **視覚的通知**: ステータスバーでのアラート表示と色変更
- **一時的表示**: アラート発生後5秒間の自動表示解除

### 4. データ管理機能 
- **CSVログ出力**: 現在のシステム状況を手動でCSVファイルに出力
- **ファイル形式**: `logs/current_status_YYYYMMDD_HHMMSS.csv`
- **出力内容**: タイムスタンプ、CPU使用率、メモリ使用率、ディスク使用率

### 5. 監視制御機能 
- **監視開始/停止**: ワンクリックでの監視制御
- **稼働時間表示**: 監視開始からの経過時間をリアルタイム表示
- **最終更新時刻**: データ更新時刻の表示

## 画面構成
### メイン画面（MainFrame）
**レイアウト**: BorderLayout

#### 上部（North）: ツールバー
- **監視開始/停止ボタン**: 監視の開始・停止制御
- **ログボタン**: 現在の状況をCSVファイルに手動出力

#### 中央（Center）: 分割パネル（JSplitPane）
- **左側パネル**: システムリソース一覧表示
  - CPU使用率表示エリア（プログレスバー + 詳細ラベル）
  - メモリ使用量表示エリア（プログレスバー + 詳細ラベル）
  - ディスク使用量表示エリア（プログレスバー + 詳細ラベル）
  
- **右側パネル**: リアルタイムグラフ表示エリア（JTabbedPane）
  - **CPUタブ**: CPU使用率の時系列グラフ（青線）
  - **メモリタブ**: メモリ使用率の時系列グラフ（緑線）
  - **ディスクタブ**: ディスク使用率の時系列グラフ（オレンジ線）

#### 下部（South）: ステータスバー
- **左側**: 監視状態表示（監視中/監視停止中/アラート表示）
- **右側**: 稼働時間・最終更新時刻表示

## 技術実装詳細

### 使用ライブラリ・技術
- **Java Version**: Java 21（Maven設定）
- **GUI Framework**: Java Swing
- **グラフライブラリ**: JFreeChart 1.5.3（外部ライブラリ）
- **システム情報取得**: Java Management Extensions (JMX)
- **ビルドツール**: Maven
- **データ形式**: CSV（ログ出力）

### クラス設計
#### コアクラス
- **MainFrame**: メインウィンドウとUI制御
- **SystemMonitorService**: システム情報取得（シングルトン）
- **AlertManager**: アラート管理（シングルトン）
- **RealtimeGraphPanel**: JFreeChartを使用したリアルタイムグラフ表示
- **RealtimeDataBuffer**: 時系列データのリングバッファ管理
- **CSVExporter**: CSV形式でのデータ出力
- **Settings**: アプリケーション設定管理
- **MonitoringData**: 監視データのモデルクラス
- **AlertLog**: アラートログのモデルクラス

#### データフロー
1. **SystemMonitorService** → 1秒間隔でシステム情報取得
2. **MainFrame** → UI更新（プログレスバー・ラベル更新）
3. **RealtimeGraphPanel** → グラフデータ追加・描画更新
4. **AlertManager** → 閾値判定・アラート発生
5. **CSVExporter** → 手動でのCSV出力

### パフォーマンス仕様
- **更新間隔**: 1秒（Timer使用）
- **グラフデータ保持**: 最大300ポイント（5分間）
- **メモリ効率**: リングバッファによる古いデータの自動削除
- **応答性**: Swingイベントディスパッチスレッドでの非同期UI更新

## 特徴・差別化ポイント

### 1. 外部ライブラリの活用
- JFreeChartライブラリによる高品質なリアルタイムグラフ表示
- 専門的なチャート機能の実装

### 2. 直感的なUI設計
- プログレスバーの色分けによる状態の即座の把握
- 分割パネルによる効率的な画面レイアウト
- タブ形式でのグラフ切り替え

### 3. 実用的な機能
- CSV出力による監視データの永続化
- アラート機能による異常状態の自動検知
- 稼働時間表示による監視継続時間の把握
